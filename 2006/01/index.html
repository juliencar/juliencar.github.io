
<!-- language redirection -->



<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta name="verify-v1" content="EJ2NpUoBJt1jI8pSdXfbuhS9bvxRhKMBK+mK7HPvS+E=" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Julien Carnelos Blog  &raquo; 2006 &raquo; janvier</title>
 <!-- leave this for stats -->
<link rel="stylesheet" href="/wp-content/themes/freshy/style.css" type="text/css" media="screen" title="Freshy"/>



<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
	<link rel='archives' title='juillet 2010' href='/2010/07/' />
	<link rel='archives' title='juin 2010' href='/2010/06/' />
	<link rel='archives' title='mai 2010' href='/2010/05/' />
	<link rel='archives' title='septembre 2008' href='/2008/09/' />
	<link rel='archives' title='août 2008' href='/2008/08/' />
	<link rel='archives' title='mars 2008' href='/2008/03/' />
	<link rel='archives' title='février 2008' href='/2008/02/' />
	<link rel='archives' title='décembre 2007' href='/2007/12/' />
	<link rel='archives' title='novembre 2007' href='/2007/11/' />
	<link rel='archives' title='octobre 2007' href='/2007/10/' />
	<link rel='archives' title='septembre 2007' href='/2007/09/' />
	<link rel='archives' title='août 2007' href='/2007/08/' />
	<link rel='archives' title='juillet 2007' href='/2007/07/' />
	<link rel='archives' title='juin 2007' href='/2007/06/' />
	<link rel='archives' title='mai 2007' href='/2007/05/' />
	<link rel='archives' title='avril 2007' href='/2007/04/' />
	<link rel='archives' title='mars 2007' href='/2007/03/' />
	<link rel='archives' title='février 2007' href='/2007/02/' />
	<link rel='archives' title='janvier 2007' href='/2007/01/' />
	<link rel='archives' title='décembre 2006' href='/2006/12/' />
	<link rel='archives' title='novembre 2006' href='/2006/11/' />
	<link rel='archives' title='octobre 2006' href='/2006/10/' />
	<link rel='archives' title='septembre 2006' href='/2006/09/' />
	<link rel='archives' title='août 2006' href='/2006/08/' />
	<link rel='archives' title='juillet 2006' href='/2006/07/' />
	<link rel='archives' title='juin 2006' href='/2006/06/' />
	<link rel='archives' title='mai 2006' href='/2006/05/' />
	<link rel='archives' title='avril 2006' href='/2006/04/' />
	<link rel='archives' title='mars 2006' href='/2006/03/' />
	<link rel='archives' title='février 2006' href='/2006/02/' />
	<link rel='archives' title='janvier 2006' href='/2006/01/' />
	<link rel='archives' title='décembre 2005' href='/2005/12/' />
	<link rel='archives' title='novembre 2005' href='/2005/11/' />
	<link rel='archives' title='octobre 2005' href='/2005/10/' />
	<link rel='archives' title='septembre 2005' href='/2005/09/' />
<link rel='dns-prefetch' href='//s.w.org' />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.8.2"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b!==c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='/wp-content/plugins/google-analyticator/external-tracking.min.js?ver=6.4.3'></script>
<link rel='https://api.w.org/' href='/wp-json/' />

 


	<style type="text/css">
	.menu li a {
		background-image:url("/wp-content/themes/freshy/images/menu/menu_triple_red.gif");
	}
	.menu li a.first_menu {
		background-image:url("/wp-content/themes/freshy/images/menu/menu_start_triple_red.gif");
	}
	.menu li a.last_menu {
		background-image:url("/wp-content/themes/freshy/images/menu/menu_end_triple_red.gif");
	}
	.menu li.current_page_item a {
		color:#ffffff !important;
	}
	
	.description {
		color:#ff6c00;
	}
	#content .commentlist dd.author_comment {
		background-color:#f5bb0c !important;
	}
	html > body #content .commentlist dd.author_comment {
		background-color:#f5bb0c !important;
	}
	#content .commentlist dt.author_comment .date {
		color:#f5bb0c !important;
		border-color:#f5bb0c !important;
	}
	#content .commentlist .author_comment .author,
	#content .commentlist .author_comment .author a {
		color:#f5bb0c !important;
		border-color:#f5bb0c !important;
	}
	#sidebar h2 {
		color:#0f80d8;
		background-color:#FFFFFF;
		border-bottom-color:#0f80d8;
	}
	#sidebar {
		background-color:#dbefff;
	}
	*::-moz-selection {
		background-color:#f5690c;
	}

	#content a:hover {
		border-bottom:1px dotted #f5690c;
	}

	#sidebar a:hover,
	#sidebar .current_page_item li a:hover,
	#sidebar .current-cat li a:hover,
	#sidebar .current_page_item a,
	#sidebar .current-cat a ,
	.readmore,
	#content .postmetadata a
	{
		color : #f5690c;
	}
	
	#title_image {
		margin:0;
		text-align:left;
		display:block;
		height:95px;
				background-image:url("/wp-content/themes/freshy/images/headers/551235_11975342.jpg");
	
			}
	
	</style>

			<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		<!-- Google Analytics Tracking by Google Analyticator 6.4.3: http://www.videousermanuals.com/google-analyticator/ -->
<script type="text/javascript">
	var analyticsFileTypes = [''];
	var analyticsEventTracking = 'enabled';
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-70231-3']);
        _gaq.push(['_addDevId', 'i9k95']); // Google Analyticator App ID with Google 
        
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</head>
<body>

<div id="page">
	
	<!-- header -->
	<div id="header">
		<div id="title">
			<h1>
				<a href="">
					<span>Julien Carnelos Blog</span>
				</a>
			</h1>
			<div class="description">
				<small>JEE , .NET , SOA , Conseil</small>
			</div>
		</div>
		<div id="title_image"></div>
	</div>
	
	<!-- main div -->
	<div id="frame">

	<!-- main menu -->
			<ul class="menu">
			
			<li class="page_item">
				<a class="first_menu" href="">
					Accueil				</a>
			</li>
					
			<li class="page_item"><a href="/a-propos/" title="A propos">A propos</a></li>
				
			<li class="last_menu">
				
				<!-- if an email is set in the options -->
								<!-- put an empty link to have the end of the menu anyway -->
					
				<a class="last_menu_off">
				</a>
					
									
			</li>

		</ul>
		
	<hr style="display:none"/>
	<div id="content">
	
	<!-- pages -->
			
						
			<div class="post" id="post-35">
				
				<h2><a href="/2006/01/27/je-programme-en-control-shift-f/" rel="bookmark" title="Read Je programme en Control-Shift-F">Je programme en Control-Shift-F</a></h2>
				<small class="date">
					<span class="date_day">27</span>
					<span class="date_month">01</span>
					<span class="date_year">2006</span>
				</small>
				
				<div class="entry">
					<p>J&rsquo;ai pris conscience que quand je codais sous Eclipse, <strong>j&rsquo;étais un Control-Shift-F addict</strong>. Ce n&rsquo;est encore déclaré comme maladie grave et c&rsquo;est même carrément pratique !</p>
<p>Pour les non-initiés, le Control-Shift-F c&rsquo;est le raccourci qui reformate entièrement la page en fonction de règles décrites dans les propriétés d&rsquo;Eclipse.</p>
<p>L&rsquo;intérêt de cette pratique est facile à comprendre puisqu&rsquo;elle permet de respecter les normes Java (qui sont celles mises dans Eclipse) et de partager ces règles avec les autres développeurs. Donc ca c&rsquo;est dit et ca parait évident.</p>
<p>Par contre, là où pour moi ca devient plus intéressant, c&rsquo;est qu&rsquo;à force de lire du code Java sous Eclipse, je me suis habitué à retrouver ce formalisme. Résultat, quand je tombe sur une classe non formatée, il me faut plus de temps pour déchiffrer (<em>-défricher ?-</em>) le contenu&#8230; </p>
<p>Mon utilisation de la fonction est même encore plus poussée, puisque quand j&rsquo;effectue une modification dans le code (ajout d&rsquo;une ligne, d&rsquo;un commentaire, n&rsquo;importe quoi d&rsquo;autre), je vais <strong>systématiquement reformater le code</strong>. Le gros avantage c&rsquo;est que je ne me prend jamais la tête sur les espacements et visuellement ça continue à être correct pour mes yeux habitués 😉 .</p>
<p>Bon formatage&nbsp;!</p>
				</div>
				
								
				<small class="postmetadata">Commentaires : <a href="/2006/01/27/je-programme-en-control-shift-f/#comments">3 Commentaires &#187;</a></small>
				<br/>
				<small class="postmetadata">Cat&eacute;gories : <a href="/category/java/" rel="category tag">Java</a></small>
						
			</div>
				
		<hr style="display:none;"/>
			
						
			<div class="post" id="post-34">
				
				<h2><a href="/2006/01/20/astuce-pour-etre-plus-productif/" rel="bookmark" title="Read Astuce pour être plus productif">Astuce pour être plus productif</a></h2>
				<small class="date">
					<span class="date_day">20</span>
					<span class="date_month">01</span>
					<span class="date_year">2006</span>
				</small>
				
				<div class="entry">
					<p>J&rsquo;avais déjà entendu parler de ça il y a longtemps mais je viens d&rsquo;en avoir la confirmation.</p>
<p>Un <a href="http://fr.wikipedia.org/wiki/Kary_Mullis" hreflang="fr">chercheur gagnant du prix nobel de physique</a> a inventé une méthode révolutionnaire d&rsquo;amplification de l&rsquo;ADN appelée PCR (polymerase chain reaction) <strong>sous trip LSD</strong>. Il est clair qu&rsquo;à un certain niveau de recherche, l&rsquo;abstraction devient tellement haute qu&rsquo;être dans le « trip » doit sûrement aider à matérialiser des idées complétement dingues mais qui se revèlent révolutionnaires&#8230;</p>
<p>Je vais donc faire une commande groupée pour les jours de livraison en production. Faite votre demande dans les commentaires 🙂 .</p>
<p>Vu sur <a href="http://37signals.com/svn/archives2/productivity_tip_take_more_lsd.php" hreflang="en">37signals</a>.</p>
				</div>
				
								
				<small class="postmetadata">Commentaires : <a href="/2006/01/20/astuce-pour-etre-plus-productif/#comments">1 Commentaire &#187;</a></small>
				<br/>
				<small class="postmetadata">Cat&eacute;gories : <a href="/category/web/" rel="category tag">Web</a></small>
						
			</div>
				
		<hr style="display:none;"/>
			
						
			<div class="post" id="post-33">
				
				<h2><a href="/2006/01/19/premieres-analyses-des-consequences-du-brevet-eolas/" rel="bookmark" title="Read Premières analyses des conséquences du brevet Eolas">Premières analyses des conséquences du brevet Eolas</a></h2>
				<small class="date">
					<span class="date_day">19</span>
					<span class="date_month">01</span>
					<span class="date_year">2006</span>
				</small>
				
				<div class="entry">
					<p>Pour rappeler l&rsquo;affaire, aux Etats-Unis, Microsoft a perdu un procès de la société Eolas sur l&rsquo;utilisation d&rsquo;objets « embedded » (embarqués) dans les pages Web affichées sur IE.</p>
<p>La conséquence est qu&rsquo;<strong>Internet Explorer ne doit plus afficher de Flash, vidéos et autres plugins/active-x intéractifs</strong>. Le brevet Eolas interdit en effet aux navigateurs de démarrer ces objets en intéractif. </p>
<p>Pour contourner le problème, Microsoft va sortir un patch qui agit en demandant à l&rsquo;utilisateur de cliquer d&rsquo;abord sur l&rsquo;animation ou l&rsquo;objet afin de l&rsquo;activer. </p>
<p>Prennons l&rsquo;exemple d&rsquo;une vidéo affichée en Flash&nbsp;: La navigateur ouvre la page HTML contenant la vidéo « embedded ». La vidéo commence à s&rsquo;animer en mode autonome (non couvert par le brevet). L&rsquo;utilisateur souhaite faire pause. Là la vidéo doit passer en mode intéractif. L&rsquo;utilisateur doit donc cliquer une première fois sur la vidéo pour l&rsquo;activer, <strong>PUIS cliquer sur le pause</strong> maintenant que l&rsquo;objet est actif.</p>
<p>Pour plus d&rsquo;infos et captures d&rsquo;écran, l&rsquo;article de Baekdal en lien en fin article présente tout cela.</p>
<p><strong>La conséquence pour nous développeurs Web se situe à deux niveaux</strong>. Concernant les vidéos et les animations, le comportement de l&rsquo;utilisateur est changé d&rsquo;un clic vers deux clics à la première action. Cela n&rsquo;est pas vraiment grave et n&rsquo;est pas urgent à corriger. Par contre pour tous les sites qui utilisent le flash dans les menus par exemple, il parait vraiment génant de demander à l&rsquo;utilisateur de cliquer pour activer 🙂 .</p>
<p>Heureusement, des solutions existent&nbsp;!</p>
<p>Concernant la navigation, un petit passage en DHTML/CSS2 peut s&rsquo;envisager 😉 . Sinon il existe également une solution technique préconisée par Microsoft qui règle le problème.</p>
<p>Voici l&rsquo;exemple pris sur <a href="http://msdn.microsoft.com/library/default.asp?url=/workshop/author/dhtml/overview/activating_activex.asp" hreflang="en">MSDN</a>:</p>
<pre>// HTML File &lt;html&gt;  &lt;body leftmargin=0 topmargin=0 scroll=no&gt;    &lt;script src="Embed.js"&gt;&lt;/script&gt;  &lt;/body&gt; &lt;/html&gt;</pre>
<pre>// embed.js document.write('&lt;embed src="examplecontrol"&gt;')</pre>
<p>Comme l&rsquo;objet embedded est affiché depuis le javascript, il ne tombe plus sous le coup de brevet. Encore une fois, <strong>oui c&rsquo;est débile mais ça marche</strong>&nbsp;!</p>
<p>Article écrit en partie sur la base des <a href="http://www.baekdal.com/articles/technology/microsoft-ie-activex-update/" hreflang="en">informations de Baekdal</a>.</p>
<p>Par contre, quid des impacts du brevet sur les autres navigateurs&nbsp;? Si quelqu&rsquo;un a des infos, je suis preneur.</p>
				</div>
				
								
				<small class="postmetadata">Commentaires : <a href="/2006/01/19/premieres-analyses-des-consequences-du-brevet-eolas/#comments">1 Commentaire &#187;</a></small>
				<br/>
				<small class="postmetadata">Cat&eacute;gories : <a href="/category/web/" rel="category tag">Web</a></small>
						
			</div>
				
		<hr style="display:none;"/>
			
						
			<div class="post" id="post-31">
				
				<h2><a href="/2006/01/18/marre-de-votre-navigateur/" rel="bookmark" title="Read Marre de votre navigateur ?">Marre de votre navigateur ?</a></h2>
				<small class="date">
					<span class="date_day">18</span>
					<span class="date_month">01</span>
					<span class="date_year">2006</span>
				</small>
				
				<div class="entry">
					<p>Alors essayez <a href="http://www.bitty.com/" hreflang="en">Bitty</a>. <br />
 Le navigateur inclus dans le navigateur qui fonctionne avec tous les navigateurs.<br />
 Ne vous inquiétez pas, moi aussi je trouve que c&rsquo;est complétement débile comme idée. Certaines personnes l&rsquo;utilisent vraiment sur leur site, comme ici : <a href="http://ba.manilasites.com/" hreflang="en">http://ba.manilasites.com/</a>. <br />
 Techniquement, le projet doit quand même être relativement balaise pour gérer tout ça en Javascript, donc bravo au développeur. </p>
				</div>
				
								
				<small class="postmetadata">Commentaires : <span>Commentaires fermés<span class="screen-reader-text"> sur Marre de votre navigateur ?</span></span></small>
				<br/>
				<small class="postmetadata">Cat&eacute;gories : <a href="/category/web/" rel="category tag">Web</a></small>
						
			</div>
				
		<hr style="display:none;"/>
			
						
			<div class="post" id="post-30">
				
				<h2><a href="/2006/01/16/le-flash/" rel="bookmark" title="Read Le Flash">Le Flash</a></h2>
				<small class="date">
					<span class="date_day">16</span>
					<span class="date_month">01</span>
					<span class="date_year">2006</span>
				</small>
				
				<div class="entry">
					<p>Vu sur le blog de <a href="http://www.fredcavazza.net/index.php?2006/01/16/1021-quand-les-intros-flash-sont-pedagogiques" hreflang="fr">Fred Cavazza</a>, ce site utilise le Flash d&rsquo;une façon différente. Plutôt que d&rsquo;ajouter une surcouche Flash avec des animations dans tous les sens qui améliorent rarement la lisibilité, ce site simule les sens de façon vraiment originale&#8230; A voir pour le concept&nbsp;: <a href="http://www.a-to-s.co.uk/home.php" hreflang="en">A-to-S</a> .</p>
				</div>
				
								
				<small class="postmetadata">Commentaires : <a href="/2006/01/16/le-flash/#comments">1 Commentaire &#187;</a></small>
				<br/>
				<small class="postmetadata">Cat&eacute;gories : <a href="/category/web/" rel="category tag">Web</a></small>
						
			</div>
				
		<hr style="display:none;"/>
			
						
			<div class="post" id="post-29">
				
				<h2><a href="/2006/01/11/le-contre-scenario-anti-telemarketing/" rel="bookmark" title="Read le Contre-scénario Anti-Telemarketing">le Contre-scénario Anti-Telemarketing</a></h2>
				<small class="date">
					<span class="date_day">11</span>
					<span class="date_month">01</span>
					<span class="date_year">2006</span>
				</small>
				
				<div class="entry">
					<p>Vu sur ce site&nbsp;: <a href="http://www.xs4all.nl/~egbg/frans.html" hreflang="fr">EGBG Anti-Telemarketing Contre-scénario</a></p>
<p>Ils proposent un contre scénario à utiliser lorsqu&rsquo;un téléprospecteur téléphone chez vous. Pour cela ils fournissent une grille de réponses à donner prêt à l&#8217;emploi sur l&rsquo;url&nbsp;: <br />
<a href="http://www.xs4all.nl/~egbg/EGBGcontrescenario.pdf" hreflang="fr">http://www.xs4all.nl/~egbg/EGBGcontrescenario.pdf</a></p>
<p>Exemple :</p>
<p><img src="/blog/images/web/telemarket_1.PNG" alt="" /></p>
<p>Je me demande l&rsquo;efficacité de cette approche mais c&rsquo;est putôt rigolo comme idée. Si quelqu&rsquo;un veut bien tester, qu&rsquo;il n&rsquo;hésite pas à commenter. Ces derniers temps je suis tranquille de ce coté là, et aucun coup de fil commercial pour tester&#8230;</p>
				</div>
				
								
				<small class="postmetadata">Commentaires : <a href="/2006/01/11/le-contre-scenario-anti-telemarketing/#comments">3 Commentaires &#187;</a></small>
				<br/>
				<small class="postmetadata">Cat&eacute;gories : <a href="/category/web/" rel="category tag">Web</a></small>
						
			</div>
				
		<hr style="display:none;"/>
			
						
			<div class="post" id="post-28">
				
				<h2><a href="/2006/01/06/ajax-et-struts-par-l-exemple/" rel="bookmark" title="Read AJAX et Struts par l&rsquo;exemple">AJAX et Struts par l&rsquo;exemple</a></h2>
				<small class="date">
					<span class="date_day">6</span>
					<span class="date_month">01</span>
					<span class="date_year">2006</span>
				</small>
				
				<div class="entry">
					<p>Premier vrai et long article technique de ce blog&#8230;</p>
<p><strong>Préambule</strong></p>
<p>On trouve aujourd&rsquo;hui beaucoup de références sur le net sur AJAX ( XmlHTTPRequest en réalité ) mais peu d&rsquo;éléments sur l&rsquo;intégration de AJAX sur le framework Struts. Concernant les ressources francaises sur le sujet, c&rsquo;est quasi inexistant en recherche sur Google. Je me suis donc décidé à écrire ce petit article technique. Attention, cet article n&rsquo;explique pas réellement le fonctionnement de la technologie AJAX mais plutôt de son intégration avec le framework Struts.</p>
<p><strong>Concept</strong></p>
<p>Pour rappeler très briévement la technologie AJAX, il s&rsquo;agit de permettre au navigateur d&rsquo;effectuer des requêtes HTTP sur le serveur en Javascript et de mettre à jour dynamiquement le contenu de la page (via DHTML) sans recharger toute la fenêtre.</p>
<p>Rappel des étapes :</p>
<ol>
<li>Création d&rsquo;un objet XmlHttpRequest (sous Javascript)</li>
<li>Paramétrage de cet objet (url et méthode de callback)</li>
<li>Exécution de la requête</li>
<li>Coté serveur, on reçoit la requête que l&rsquo;on traite puis on renvoie le résultat</li>
<li>Le retour est traité dans la méthode callback préalablement définie</li>
</ol>
<p>Pour plus d&rsquo;informations, il existe de nombreux <a href="http://www.vnunet.fr/actualite/gds_comptes/applications/20051222009" hreflang="fr">sites en parlant mieux que moi</a>&#8230;</p>
<p><strong>Intégration avec Struts</strong></p>
<p>Comme on peut le voir dans les étapes ci-dessus, l&rsquo;intégration avec Struts ne se situe <em>que</em> lors de l&rsquo;étape 4 puisque c&rsquo;est la seule étape qui fait intervenir le serveur. Afin d&rsquo;implémenter la réception des appels AJAX sur le serveur, plusieurs solutions sont possibles :</p>
<ul>
<li>Ecrire des servlets spécifiques</li>
<li>Utiliser un framework comme DWR</li>
<li>Ecrire des actions Struts « standard » dédiés</li>
</ul>
<p>La 1ère solution étant à proscrire et la deuxième impliquant l&rsquo;utilisation d&rsquo;un framework tiers, la solution d&rsquo;actions dédiées est parfaitement adaptée pour des petites extensions sur des projets existants comme cela est souvent le cas avec l&rsquo;utilisation de AJAX.</p>
<p>Mon exemple sera l&rsquo;implémentation d&rsquo;une page donnant l&rsquo;heure du serveur. C&rsquo;est un exemple trivial mais il permet de mettre en place la chaîne complète, ce qui est l&rsquo;intérêt de cet article.</p>
<p><strong>Etape 1 : Ecriture de la page HTML</strong></p>
<p>On commence par la page HTML :</p>
<pre>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Test AJAX et Struts&lt;/title&gt;
&lt;script type="text/javascript"&gt;
&lt;!- -  Ici on placera le code Javascript --&gt;
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="form"&gt;
&lt;form action="#"&gt;
&lt;input type="button" name="Envoyer" onclick="appelAjaxExemple();" value="Je veux l'heure du serveur" /&gt;
 &lt;/form&gt;
&lt;/div&gt;
&lt;hr /&gt;
&lt;div id="resultat"&gt; &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
<p>La page est la plus simple possible avec un simple bouton qui appelle la méthode Javascript et un DIV de résultat.<br />
Ensuite on écrit le Javascript suivant entre les balises head :</p>
<pre>// appelé dans la page function appelAjaxExemple() 
{ 	
ajaxCallRemotePage('ajaxAction.do'); 
}</pre>
<p>Cette méthode est celle appelée par le bouton du formulaire. Il se contente d&rsquo;appeler la méthode de traitement avec en paramètre l&rsquo;action Struts qui traitera l&rsquo;appel Asynchrone (voir plus bas)</p>
<pre> // Methode d'appel a une page en XmlHttpRequest 
function ajaxCallRemotePage(url) 
{     
if (window.XMLHttpRequest) 
{ 
// Non-IE browsers       	
req = new XMLHttpRequest();        	
req.onreadystatechange = processStateChange;         
req.open("GET", url, true);         
req.setRequestHeader("If-Modified-Since", "Sat, 1 Jan 2000 00:00:00 GMT"); 		
req.send(null); 	
} 	
else if (window.ActiveXObject) 
{ 
// IE       	
req = new ActiveXObject("Microsoft.XMLHTTP");        	
req.onreadystatechange = processStateChange;        	
req.open("GET", url, true);        	
req.setRequestHeader("If-Modified-Since", "Sat, 1 Jan 2000 00:00:00 GMT"); 		
req.send(); 	
} 	
else { 		
return; // Navigateur non compatible 	
}  
}</pre>
<p>Il s&rsquo;agit de l&rsquo;implémentation technique de la couche XmlHTTPRequest, on peut voir que le code est écrit pour gérer les navigateurs IE et les autres (dont Firefox). La requête sur le serveur est effectuée au moment du <em>send()</em>. On peut voir aussi que la méthode de callback <em>processStateChange</em> est défini. C&rsquo;est la méthode qui est appelée lorsque l&rsquo;état de la requête bouge. Voici son code :</p>
<pre> // Methode private qui traite le retour de l'appel de "ajaxCallRemotePage" 
function processStateChange() 
{     
if (req.readyState == 4) 
{ // Complete       
if (req.status == 200) 
{ // OK response        
  // Pour le debug        
  alert("ok:"+req.responseText);    
   } else {         
     // Pour le debug          
     alert("Problem: " + req.statusText);     
     alert("status: " + req.status);   
   }  
} }</pre>
<p>L&rsquo;algorithme est relativement simple. Si l&rsquo;état de la requête est à 4 (terminée), on vérifie que le serveur nous a renvoyé un code HTTP de 200 qui correspond à un OK serveur. Alors dans ce cas, on affiche le résultat retourné par le serveur sinon on affiche l&rsquo;erreur&#8230;</p>
<p><strong>Etape 2 : configuration de Struts</strong></p>
<p>Je considère dans ce chapitre que Struts est déjà correctement installé. Si vous avez besoin d&rsquo;un projet vide, vous pouvez utiliser le Struts-Blank.</p>
<p>On commence par déclarer dans le fichier struts-config, une nouvelle action correspondant à notre appel depuis le javascript :</p>
<pre>  &lt;action-mappings&gt;    	
&lt;!- - Declaration de notre action Struts --&gt;        
&lt;action            path="/ajaxAction"            type="com.jc.AjaxAction" /&gt;    
&lt;/action-mappings&gt;</pre>
<p>Le contenu de l&rsquo;action mapping est relativement simple puisque on se contente d&rsquo;appeler une classe Java qui effectuera le traitement serveur. On peut remarquer qu&rsquo;il n&rsquo;est pas nécéssaire de préciser une page jsp de résultat puisque c&rsquo;est le code java qui écrit dans l&rsquo;objet <em>response.</em></p>
<p><strong>Etape 3 : Ecriture de l&rsquo;action Struts</strong></p>
<p>Le code de l&rsquo;action Struts est le suivant :</p>
<pre>package com.jc; import java.io.PrintWriter; 
import javax.servlet.http.HttpServletRequest; 
import javax.servlet.http.HttpServletResponse; 
import org.apache.struts.action.Action; 
import org.apache.struts.action.ActionForm; 
import org.apache.struts.action.ActionForward; 
import org.apache.struts.action.ActionMapping; 

public class AjaxAction extends Action { 	
 public ActionForward execute(ActionMapping mapping, ActionForm form,        HttpServletRequest request, HttpServletResponse response) throws Exception 
 {
  String valeur = "test"; 	    
  // Write the text to response 	   
  response.setContentType("text/html"); 	   
  PrintWriter out = response.getWriter(); 	   
  out.println(valeur); 	  
  out.flush(); 	   
  return null; 	
 } 
}</pre>
<p>Le code est relativement simple, dans le sens où il se contente d&rsquo;écrire dans le flux de sortie de la requête HTTP. On peut remarquer que le return est <em>null</em>, car on ne suit pas la logique des mappings Struts et que le Javascript lira directement le flux provenant du serveur.</p>
<p><strong>Etape 4 : Le test</strong></p>
<p>En ouvrant le navigateur sur la page de test on tombe sur cet écran :<br />
<img src="http://julien.carnelos.free.fr/blog/images/java/article_ajax_1.png" /></p>
<p>Après un clic sur le bouton, la popup d&rsquo;alert s&rsquo;affiche avec le résultat retourné par le serveur :<br />
<img src="http://julien.carnelos.free.fr/blog/images/java/article_ajax_2.png" /></p>
<p>Parfait, maintenant on implémente un peu de fonctionnel&#8230;</p>
<p><strong>Etape 5 : Implémentation de l&rsquo;affichage de l&rsquo;heure du serveur</strong></p>
<p>Maintenant que l&rsquo;aller retour serveur fonctionne, on peut ajouter un peu de code applicatif pour montrer l&rsquo;intérêt de ce framework. Dans notre exemple, au clic sur le bouton, le serveur va retourner son heure système qui sera affiché sur la page.</p>
<p>La première modification concerne le code de l&rsquo;action Java :</p>
<p>A la place de :</p>
<pre>String valeur = "test";</pre>
<p>Récupérons plutôt l&rsquo;heure système (attention aux imports) :</p>
<pre>Date date = GregorianCalendar.getInstance().getTime(); 
String valeur = SimpleDateFormat.getDateTimeInstance().format(date);</pre>
<p>Il ne reste plus qu&rsquo;à modifier le javascript de la page : Dans le traitement du résultat :</p>
<pre>if (req.status == 200) 
{ // OK response       
// Pour le debug       
alert("ok:"+req.responseText);</pre>
<p>On remplace l&rsquo;alert par :</p>
<pre>  // alert("ok:"+req.responseText);       
  var d = document.getElementById('resultat');       
  d.innerHTML = req.responseText;</pre>
<p>résultat sur la page :<br />
<img src="http://julien.carnelos.free.fr/blog/images/java/article_ajax_3.png" /></p>
<p><strong>conclusion</strong></p>
<p>Cette petite introduction sera j&rsquo;espère pratique pour les personnes souhaitant d&rsquo;intégrer rapidement des requêtes asynchrones sur des applications déjà existantes. Mais pour une intégration plus poussée, l&rsquo;utilisation de frameworks dédiés sera un gros plus.</p>
<p>Source du projet développé sous WTP 1.0 : <a href="http://julien.carnelos.free.fr/blog/fichiers/AjaxProject.zip" hreflang="fr">AjaxProject.zip</a></p>
<p><strong>bugs possibles</strong></p>
<ul>
<li>Attention à l&rsquo;url de destination passé à la méthode Javascript dans un environnement Struts. Une solution est de récupérer dans le Javascript la base de l&rsquo;application avec un code comme celui-ci :</li>
</ul>
<pre>var path = window.location.pathname; path = path.substring( 0, path.length - "actionCourante.do".length );</pre>
<ul>
<li>J&rsquo;ai remarqué également un autre problème très génant avec le cache d&rsquo;IE5/IE6 sous Windows 2000 (qui bizarrement fonctionnait sous IE6 &#8211; Windows XP). En fait, le navigateur mettait en cache les appels depuis XmlHTTPRequest : Résultat, plus rien ne se passait si on appelait 2x la même URL. Pour corriger ce problème, j&rsquo;ai ajouté dans les paramètres d&rsquo;appel :</li>
</ul>
<pre>req.setRequestHeader("If-Modified-Since", "Sat, 1 Jan 2000 00:00:00 GMT");</pre>
<p><strong>Références intéressantes</strong></p>
<ul>
<li>Un article sur Struts et AJAX en anglais qui m&rsquo;a servis lors de mon implémentation : <a href="http://www.omnytex.com/articles/xhrstruts/" hreflang="en">Ajax using XMLHttpRequest and Struts</a></li>
<li>Une idée intéressante pour logger les erereurs Javascript par AJAX : <a href="http://www.xml.com/pub/a/2005/05/11/Ajax-error.html" hreflang="en">Errors and AJAX</a></li>
<li>Un autre article AJAX / Struts : <a href="http://today.java.net/pub/a/today/2005/10/27/sprinkle-ajax-magic-into-struts-webapp.html?page=1" hreflang="en">Sprinkle Some AJAX Magic in Your Struts Web Application</a></li>
</ul>
				</div>
				
								
				<small class="postmetadata">Commentaires : <a href="/2006/01/06/ajax-et-struts-par-l-exemple/#comments">29 Commentaires &#187;</a></small>
				<br/>
				<small class="postmetadata">Cat&eacute;gories : <a href="/category/java/" rel="category tag">Java</a></small>
						
			</div>
				
		<hr style="display:none;"/>
			
		
		<p class="navigation">
			<span class="alignleft"></span>
			<span class="alignright"></span>
		</p>
	
	<!-- nothing found -->
		
	<!-- homepage -->

		
	</div>
	
	<hr/>
	
	<!-- sidebar -->
		
	<div id="sidebar">
		<div>
                <h2>Recherche</h2>
		<form method="get" id="searchform" action="/">
<p>
<input size="12" type="text" value="" name="s" id="s" /><input class="btn" type="submit" id="searchsubmit" value="Recherche" />
</p>
</form>

                <h2>S'abonner</h2>
                <a href="http://feeds.feedburner.com/JulienCarnelos"><img src="/wp-content/themes/freshy/images/icons/feed-icon-16x16.gif"> RSS</a><br/>
                     <a href="http://feeds.feedburner.com/JulienCarnelos-Commentaires"><img src="/wp-content/themes/freshy/images/icons/feed-icon-16x16.gif"> RSS des commentaires</a>
<br/>
<!-- form abonnement RSS par email -->
<a href="http://www.feedburner.com/fb/a/emailverifySubmit?feedId=124847"> <img src="/wp-content/uploads/theme/email_go.png"> S'abonner au Blog par email</a>


		<div id="recent-comments-2" class="widget widget_recent_comments"><h2 class="title">Commentaires récents</h2><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href='http://www.club-shop.fr' rel='external nofollow' class='url'>Mc David</a></span> dans <a href="/2008/09/07/google-chrome-bta/comment-page-1/#comment-634">Google Chrome &#8211; B&eacute;ta ?</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://www.cablehdmi.net' rel='external nofollow' class='url'>hdmi</a></span> dans <a href="/2008/09/07/google-chrome-bta/comment-page-1/#comment-633">Google Chrome &#8211; B&eacute;ta ?</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://www.bon-sejour-en-france.fr' rel='external nofollow' class='url'>bon-sejour-en-france</a></span> dans <a href="/2008/09/07/google-chrome-bta/comment-page-1/#comment-631">Google Chrome &#8211; B&eacute;ta ?</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://www.bingofr.com' rel='external nofollow' class='url'>David</a></span> dans <a href="/2007/11/20/recevoir-gratuitement-par-sms-les-alertes-du-rseau-tbc-bordeaux/comment-page-1/#comment-629">Recevoir gratuitement par SMS les alertes du r&eacute;seau TBC Bordeaux</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://www.makeet.com' rel='external nofollow' class='url'>MElalami</a></span> dans <a href="/2007/08/01/rpandre-lamour-dofollow/comment-page-1/#comment-627">R&eacute;pandre l&rsquo;amour : Dofollow</a></li></ul></div>		<div id="recent-posts-2" class="widget widget_recent_entries">		<h2 class="title">Articles récents</h2>		<ul>
					<li>
				<a href="/2010/07/15/lintgration-continue-open-source-en-net-33/">L&rsquo;int&eacute;gration continue Open Source en .NET &#8211; 3/3</a>
						</li>
					<li>
				<a href="/2010/06/30/lintgration-continue-open-source-en-net-23/">L&rsquo;int&eacute;gration continue Open Source en .NET &#8211; 2/3</a>
						</li>
					<li>
				<a href="/2010/06/17/l%e2%80%99integration-continue-open-source-en-net-13/">L’intégration continue Open Source en .NET &#8211; 1/3</a>
						</li>
					<li>
				<a href="/2010/05/17/actualites-mai-2010/">Actualités Mai 2010</a>
						</li>
					<li>
				<a href="/2008/09/07/google-chrome-bta/">Google Chrome &#8211; B&eacute;ta ?</a>
						</li>
				</ul>
		</div>		<div id="linkcat-2" class="widget widget_links"><h2 class="title">Blogoliste</h2>
	<ul class='xoxo blogroll'>
<li><a href="http://francisoud.blogspot.com/" title="Francisoud&rsquo;s Blog">Francisoud&rsquo;s Blog</a></li>
<li><a href="http://reponses.net/blog/" title="Reponses.net">Huats</a></li>
<li><a href="http://www.dotmim.com/blogs/mim/default.aspx">Mim</a></li>
<li><a href="http://www.aubryconseil.com/dotclear/index.php/" title="Scrum &#8211; Méthodes agiles">Scrum &#8211; Méthodes agiles</a></li>

	</ul>
</div>
<div id="archives-2" class="widget widget_archive"><h2 class="title">Archives</h2>		<label class="screen-reader-text" for="archives-dropdown-2">Archives</label>
		<select id="archives-dropdown-2" name="archive-dropdown" onchange='document.location.href=this.options[this.selectedIndex].value;'>
			
			<option value="">Sélectionner un mois</option>
				<option value='/2010/07/'> juillet 2010 &nbsp;(1)</option>
	<option value='/2010/06/'> juin 2010 &nbsp;(2)</option>
	<option value='/2010/05/'> mai 2010 &nbsp;(1)</option>
	<option value='/2008/09/'> septembre 2008 &nbsp;(1)</option>
	<option value='/2008/08/'> août 2008 &nbsp;(1)</option>
	<option value='/2008/03/'> mars 2008 &nbsp;(1)</option>
	<option value='/2008/02/'> février 2008 &nbsp;(4)</option>
	<option value='/2007/12/'> décembre 2007 &nbsp;(1)</option>
	<option value='/2007/11/'> novembre 2007 &nbsp;(2)</option>
	<option value='/2007/10/'> octobre 2007 &nbsp;(4)</option>
	<option value='/2007/09/'> septembre 2007 &nbsp;(5)</option>
	<option value='/2007/08/'> août 2007 &nbsp;(4)</option>
	<option value='/2007/07/'> juillet 2007 &nbsp;(3)</option>
	<option value='/2007/06/'> juin 2007 &nbsp;(6)</option>
	<option value='/2007/05/'> mai 2007 &nbsp;(2)</option>
	<option value='/2007/04/'> avril 2007 &nbsp;(4)</option>
	<option value='/2007/03/'> mars 2007 &nbsp;(4)</option>
	<option value='/2007/02/'> février 2007 &nbsp;(6)</option>
	<option value='/2007/01/'> janvier 2007 &nbsp;(2)</option>
	<option value='/2006/12/'> décembre 2006 &nbsp;(9)</option>
	<option value='/2006/11/'> novembre 2006 &nbsp;(3)</option>
	<option value='/2006/10/'> octobre 2006 &nbsp;(5)</option>
	<option value='/2006/09/'> septembre 2006 &nbsp;(5)</option>
	<option value='/2006/08/'> août 2006 &nbsp;(5)</option>
	<option value='/2006/07/'> juillet 2006 &nbsp;(3)</option>
	<option value='/2006/06/'> juin 2006 &nbsp;(4)</option>
	<option value='/2006/05/'> mai 2006 &nbsp;(4)</option>
	<option value='/2006/04/'> avril 2006 &nbsp;(7)</option>
	<option value='/2006/03/'> mars 2006 &nbsp;(5)</option>
	<option value='/2006/02/'> février 2006 &nbsp;(3)</option>
	<option value='/2006/01/'> janvier 2006 &nbsp;(7)</option>
	<option value='/2005/12/'> décembre 2005 &nbsp;(2)</option>
	<option value='/2005/11/'> novembre 2005 &nbsp;(4)</option>
	<option value='/2005/10/'> octobre 2005 &nbsp;(6)</option>
	<option value='/2005/09/'> septembre 2005 &nbsp;(13)</option>

		</select>
		</div>          
                <h2>Abonnés</h2>
                    <p align="center"><a href="http://feeds.feedburner.com/JulienCarnelos"><img src="http://feeds.feedburner.com/~fc/JulienCarnelos?bg=FF3300&amp;fg=444444&amp;anim=1" height="26" width="88" style="border:0" alt="" /></a></p>
                </div>


	</div>
	<br style="clear:both" /><!-- without this little <br /> NS6 and IE5PC do not stretch the frame div down to encopass the content DIVs -->
</div>
				
<!-- footer -->
<hr style="display:none"/>

<div id="footer">
	<small class="footer_content">
		<a href="http://feeds.feedburner.com/JulienCarnelos"><img alt="rss" src="/wp-content/themes/freshy/images/rss_blog.gif"/></a>
		<a href="http://feeds.feedburner.com/JulienCarnelos-Commentaires"><img alt="Flux rss des commentaires" src="/wp-content/themes/freshy/images/rss_commentaires.gif"/></a>
		<a href="http://validator.w3.org/check?uri=referer"><img alt="valid xhtml 1.1" src="/wp-content/themes/freshy/images/valid_xhtml11_80x15_2.png"/></a>

<a href="http://www.reponses.net"><img alt="www.reponses.net" src="/wp-content/uploads/theme/net_reponses.png"/></a>

		<a href="http://www.jide.fr"><img alt="design by jide" src="/wp-content/themes/freshy/images/micro_jide.png"/></a>
		<a href="http://wordpress.org/"><img alt="powered by Wordpress" src="/wp-content/themes/freshy/images/get_wordpress_80x15_2.png"/></a>
		<a href="http://www.mozilla.com/firefox"><img alt="get firefox" src="/wp-content/themes/freshy/images/get_firefox_80x15.png"/></a>

<a href="http://www.famfamfam.com/"><img alt="http://www.famfamfam.com/" src="/wp-content/uploads/theme/famfamfam.png"/></a>

	</small>
	
</div>

</div> <!--- end of the <div id="page"> (from header.php) -->

</body>
</html>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.8.2'></script>
<!--stats_footer_test--><script src="http://stats.wordpress.com/e-201742.js" type="text/javascript"></script>
<script type="text/javascript">
st_go({blog:'1810496',v:'ext',post:'0'});
var load_cmc = function(){linktracker_init(1810496,0,2);};
if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
else load_cmc();
</script>

		

